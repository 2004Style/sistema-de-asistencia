# ============================================
# EJEMPLO DE CONFIGURACIÓN DEL SERVIDOR
# ============================================
# Este archivo es un template para crear tu server/.env
# Copia este archivo a .env y ajusta los valores

# ============================================
# BASE DE DATOS
# ============================================
# Formato: postgresql://usuario:contraseña@host:puerto/nombre_db
# Ejemplos:
# - PostgreSQL local: postgresql://usuario:password@localhost:5432/asistencia
# - PostgreSQL en Docker: postgresql://usuario:password@postgres:5432/asistencia
# - PostgreSQL remoto: postgresql://usuario:password@tu-servidor.com:5432/asistencia
DATABASE_URL=postgresql://usuario:password@localhost:5432/asistencia

# ============================================
# CONFIGURACIÓN DE LA API
# ============================================
HOST=0.0.0.0
PORT=8000
TIMEZONE=America/Lima

# ============================================
# CONFIGURACIÓN DE CORS
# ============================================
# DINÁMICO: Usa * para permitir cualquier origen (útil cuando IP cambia)
# 
# Opción 1 (DESARROLLO/TESTING): Permitir cualquier origen
CORS_ORIGINS=*

# Opción 2 (PRODUCCIÓN SEGURA): Orígenes específicos separados por comas
# CORS_ORIGINS=http://tu-ip:3000,https://tu-dominio.com,http://localhost:3000

# ============================================
# CONFIGURACIÓN DE WEBSOCKETS (SOCKET.IO)
# ============================================
# * = permitir cualquier origen (útil para ESP32 + browsers con IPs dinámicas)
SOCKETIO_CORS_ORIGINS=*

# O restringir a orígenes específicos:
# SOCKETIO_CORS_ORIGINS=http://tu-ip:3000,https://tu-dominio.com

# ============================================
# AMBIENTE Y DEBUG
# ============================================
# AUTO_MIGRATE=true → Ejecuta migraciones al iniciar
# DEBUG=false → Modo producción (sin logs verbosos)
AUTO_MIGRATE=true
DEBUG=false
ENVIRONMENT=production

# ============================================
# SEGURIDAD JWT
# ============================================
# ⚠️ CAMBIAR EN PRODUCCIÓN POR VALORES ALEATORIOS Y SEGUROS
# Generar con: openssl rand -hex 32
SECRET_KEY=CAMBIAR-POR-VALOR-ALEATORIO-SEGURO
JWT_SECRET_KEY=CAMBIAR-POR-VALOR-ALEATORIO-SEGURO

# ============================================
# CONFIGURACIÓN DE ARCHIVOS
# ============================================
MAX_FILE_SIZE=10485760
UPLOAD_DIR=recognize/data
REPORTS_DIR=public/reports
TEMP_DIR=public/temp
PASSWORD_MIN_LENGTH=8

# ============================================
# CONFIGURACIÓN DE EMAIL (Mail API)
# ============================================
# Si usas un servicio de correo externo, configúralo aquí
MAIL_API_URL=http://localhost:3001
MAIL_API_CLIENT_ID=tu-client-id-aqui
MAIL_API_SECRET=tu-secret-aqui
SMTP_FROM_EMAIL=noreply@tu-dominio.com
SMTP_FROM_NAME=Sistema de Asistencia

# ============================================
# ALERTAS Y UMBRALES
# ============================================
TARDANZAS_MAX_ALERTA=3
FALTAS_MAX_ALERTA=2
MINUTOS_TARDANZA=15
