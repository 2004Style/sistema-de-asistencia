# ============================================================
# SISTEMA DE ASISTENCIA - Configuration File Template
# ============================================================
# Copy this file to .env and update values for your environment
# DO NOT commit .env to version control - it contains secrets!
# ============================================================

# ============================================================
# DATABASE & MIGRATIONS
# ============================================================
# PostgreSQL connection string
# Development: postgresql://rdev:rdev@localhost:5432/asistencia
# Production: postgresql://rdev:rdev@<EXTERNAL_SERVER_IP>:5432/asistencia
DATABASE_URL=postgresql://rdev:rdev@localhost:5432/asistencia

# Auto-run migrations on application startup
# Set to 'true' only for single-instance deployments
# For production: apply migrations via CI/CD pipeline
AUTO_MIGRATE=false


# ============================================================
# APPLICATION CORE SETTINGS
# ============================================================

# Secret key for JWT tokens and password hashing
# IMPORTANT: Generate a new strong value for each environment
# Command to generate: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-change-in-production-REPLACE-ME

# Debug mode (set to False in production)
DEBUG=True

# Server host and port
HOST=0.0.0.0
PORT=8000

# Application timezone for date/time operations
# Timezone must be a valid pytz timezone string
TIMEZONE=America/Lima


# ============================================================
# FILE UPLOAD & DIRECTORIES
# ============================================================

# Maximum file upload size in bytes (10 MB)
# Adjust based on your infrastructure
MAX_FILE_SIZE=10485760

# Upload directory for recognition data
# NOTE: Managed by recognition module - do not change unless necessary
UPLOAD_DIR=recognize/data

# Reports output directory (must be writable)
REPORTS_DIR=public/reports

# Temporary files directory for processing (must be writable)
TEMP_DIR=public/temp


# ============================================================
# SECURITY
# ============================================================

# Minimum password length for user accounts
PASSWORD_MIN_LENGTH=8


# ============================================================
# MAIL API (External HTTP mail service)
# ============================================================

# Base URL of the mail API service
# Examples:
#   Development: http://localhost:3001
#   Production: https://api.mail-service.com
MAIL_API_URL=http://localhost:3001

# Client ID for authentication
MAIL_API_CLIENT_ID=cli_xxxxx

# API Secret for authentication
MAIL_API_SECRET=sk_live_xxxxx

# Email Sender Information
# From: "{SMTP_FROM_NAME} <{SMTP_FROM_EMAIL}>"
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_FROM_NAME=Sistema de Asistencia


# ============================================================
# ALERTS & THRESHOLDS
# ============================================================

# Maximum consecutive late arrivals before alert is sent
# Example: 3 = alert after 3rd late arrival in period
TARDANZAS_MAX_ALERTA=3

# Maximum unjustified absences before alert is sent
# Example: 2 = alert after 2nd absence without justification
FALTAS_MAX_ALERTA=2

# Minutes of delay to count as a late arrival (tardanza)
# Example: 15 = any arrival after 15 minutes of scheduled time = late
MINUTOS_TARDANZA=15
